{"version":3,"sources":["src/libs/ts.js","src/index.js"],"names":["x","c","a","e","createShader","shaderSource","compileShader","y","h","createProgram","attachShader","linkProgram","B","d","createBuffer","bindBuffer","bufferData","TCTex","createTexture","bindTexture","texParameteri","texImage2D","width","height","TS","indexB","m","n","p","getContext","z","bufferSubData","bind","A","drawElements","E","q","ArrayBuffer","b","Float32Array","r","Uint32Array","g","Uint16Array","f","byteLength","l","k","t","C","blendFunc","enable","useProgram","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","uniformMatrix4fv","getUniformLocation","activeTexture","col","bkg","F","clearColor","cls","clear","img","u","v","D","G","H","w","flush","subarray","window","TCShd","TCPrg","TCBuf","$c","document","getElementById","innerWidth","innerHeight","canvas","kittenTexture","gl","kittenImage","Image","gravity","random","Math","maxX","minX","maxY","minY","add","startBunnyCount","count","amount","kittens","frames","currentFrame","Sprite","texture","frameX","frameY","frameW","frameH","positionX","positionY","speedX","speedY","rotation","u0","v0","u1","v1","halfWidth","create","frame","i","kitten","mainLoop","update","spin","draw","requestAnimationFrame","onmousedown","evt","length","onmouseup","ontouchstart","ontouchend","onload","src"],"mappings":"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","file":"src.226bc905.js","sourceRoot":"..","sourcesContent":["/*\nTinySprite module (https://github.com/bitnenfer/tiny-canvas)\nDeveloped by Felipe Alfonso -> https://twitter.com/bitnenfer/\n*/\nfunction x(c,a,e){e=c.createShader(e);c.shaderSource(e,a);c.compileShader(e);return e}function y(c,a,e){var h=c.createProgram();a=x(c,a,35633);e=x(c,e,35632);c.attachShader(h,a);c.attachShader(h,e);c.linkProgram(h);return h}function B(c,a,e,h){var d=c.createBuffer();c.bindBuffer(a,d);c.bufferData(a,e,h);return d}window.TCShd=x;window.TCPrg=y;window.TCBuf=B;\nexport function TCTex(c,a,e,h){var d=c.createTexture();c.bindTexture(3553,d);c.texParameteri(3553,10242,33071);c.texParameteri(3553,10243,33071);c.texParameteri(3553,10240,9728);c.texParameteri(3553,10241,9728);c.texImage2D(3553,0,6408,6408,5121,a);c.bindTexture(3553,null);d.width=e;d.height=h;return d};\nexport function TS(c){var indexB=0,a=c.getContext(\"webgl\"),e=c.width,h=c.height,d=y(a,\"precision lowp float;\\nattribute float a;\\nattribute vec2 b,c,d,e;\\nattribute vec4 f;\\nvarying vec2 g;\\nvarying vec4 h;\\nuniform mat4 i;\\nvoid main() {\\nfloat q=cos(a);\\nfloat w=sin(a);\\ngl_Position=i*vec4(((vec2(d.x*q-d.y*w,d.x*w+d.y*q)*c)+b),1.0,1.0);\\ng=e;\\nh=f;\\n}\",\"precision lowp float;\\nvarying vec2 g;\\nvarying vec4 h;\\nuniform sampler2D j;\\nvoid main(){\\ngl_FragColor=texture2D(j,g)*h;\\n}\"),z=a.bufferSubData.bind(a),\nA=a.drawElements.bind(a),E=a.bindTexture.bind(a),q=new ArrayBuffer(1747520),b=new Float32Array(q),r=new Uint32Array(q),g=new Uint16Array(131064),f=B(a,34963,g.byteLength,35044),l=B(a,34962,q.byteLength,35048),k=0,t=null,C=null,m,n,p;a.blendFunc(770,771);a.enable(3042);a.useProgram(d);a.bindBuffer(34963,f);for(f=indexB=0;65532>f;f+=6,indexB+=4)g[f+0]=indexB,g[f+1]=indexB+1,g[f+2]=indexB+2,g[f+3]=indexB+0,g[f+4]=indexB+3,g[f+5]=indexB+1;a.bufferSubData(34963,0,g);a.bindBuffer(34962,l);g=a.getAttribLocation(d,\n\"a\");l=a.getAttribLocation(d,\"b\");f=a.getAttribLocation(d,\"c\");m=a.getAttribLocation(d,\"d\");n=a.getAttribLocation(d,\"e\");p=a.getAttribLocation(d,\"f\");a.enableVertexAttribArray(g);a.vertexAttribPointer(g,1,5126,0,40,0);a.enableVertexAttribArray(l);a.vertexAttribPointer(l,2,5126,0,40,4);a.enableVertexAttribArray(f);a.vertexAttribPointer(f,2,5126,0,40,12);a.enableVertexAttribArray(m);a.vertexAttribPointer(m,2,5126,0,40,20);a.enableVertexAttribArray(n);a.vertexAttribPointer(n,2,5126,0,40,28);a.enableVertexAttribArray(p);\na.vertexAttribPointer(p,4,5121,1,40,36);a.uniformMatrix4fv(a.getUniformLocation(d,\"i\"),0,new Float32Array([2/e,0,0,0,0,-2/h,0,0,0,0,1,1,-1,1,0,0]));a.activeTexture(33984);return C={g:a,c:c,col:4294967295,bkg:function(F,b,c){a.clearColor(F,b,c,1)},cls:function(){a.clear(16384)},img:function(a,c,d,e,f,g,h,l,u,v,m,n,p,D){var G=c+e,H=d+f;f=d+f;e=c+e;var w=C.col;if(a!=t||10922<=k+1)z(34962,0,q),A(4,6*k,5123,0),k=0,a!=t&&(t=a,E(3553,t));a=40*k;b[a++]=g;b[a++]=h;b[a++]=l;b[a++]=u;b[a++]=v;b[a++]=c;b[a++]=\nd;b[a++]=m;b[a++]=n;r[a++]=w;b[a++]=g;b[a++]=h;b[a++]=l;b[a++]=u;b[a++]=v;b[a++]=G;b[a++]=H;b[a++]=p;b[a++]=D;r[a++]=w;b[a++]=g;b[a++]=h;b[a++]=l;b[a++]=u;b[a++]=v;b[a++]=c;b[a++]=f;b[a++]=m;b[a++]=D;r[a++]=w;b[a++]=g;b[a++]=h;b[a++]=l;b[a++]=u;b[a++]=v;b[a++]=e;b[a++]=d;b[a++]=p;b[a++]=n;r[a++]=w;10922<=++k&&(z(34962,0,q),A(4,6*k,5123,0),k=0)},flush:function(){0!=k&&(z(34962,0,b.subarray(0,40*k)),A(4,6*k,5123,0),k=0)}}};","import { TS, TCTex } from './libs/ts'\n\n// This example is based of PIXI's bunnymark\nconst $c = document.getElementById('game-canvas')\n$c.width = window.innerWidth\n$c.height = window.innerHeight\nvar canvas = TS($c)\n\nvar kittenTexture = null,\n    gl = canvas.g,\n    kittenImage = new Image(),\n    gravity = 0.5,\n    random = Math.random,\n    maxX = canvas.c.width,\n    minX = 0,\n    maxY = canvas.c.height,\n    minY = 0,\n    add = false,\n    startBunnyCount = 2,\n    count = 0,\n    amount = 100,\n    kittens = [],\n    frames = [\n        [0, 0, 32, 32],\n        [0, 32, 32, 32],\n        [0, 64, 32, 32],\n        [0, 96, 32, 32]\n    ],\n    currentFrame = 0;\nfunction Sprite(x, y, texture, frameX, frameY, frameW, frameH) {\n    this.positionX = x;\n    this.positionY = y;\n    this.width = frameW;\n    this.height = frameH;\n    this.texture = texture;\n    this.speedX = 0;\n    this.speedY = 0;\n    this.rotation = 0;\n    this.u0 = frameX / texture.width;\n    this.v0 = frameY / texture.height;\n    this.u1 = this.u0 + (frameW / texture.width);\n    this.v1 = this.v0 + (frameH / texture.height);\n    this.halfWidth = frameW / 2;\n}\n\nfunction create() {\n    var frame = frames[currentFrame];\n    for (var i = 0; i < startBunnyCount; i++) {\n        var kitten = new Sprite(0, 0, kittenTexture, frame[0], frame[1], frame[2], frame[3]);\n        kitten.speedX = Math.random() * 10;\n        kitten.speedY = (Math.random() * 10) - 5;\n        kittens[count++] = kitten;\n    }\n\n    canvas.bkg(0.227, 0.227, 0.227);\n    mainLoop();\n}\n\nfunction update() {\n    if (add) {\n        if (count < 200000) {\n            var frame = frames[currentFrame];\n            for (var i = 0; i < amount; i++) {\n                var kitten = new Sprite(0, 0, kittenTexture, frame[0], frame[1], frame[2], frame[3]);\n                kitten.speedX = Math.random() * 10;\n                kitten.speedY = (Math.random() * 10) - 5;\n                kitten.rotation = (Math.random() - 0.5);\n                kittens[count++] = kitten;\n            }\n        }\n    }\n    for (var i = 0; i < count; i++) {\n        var kitten = kittens[i];\n        kitten.positionX += kitten.speedX;\n        kitten.positionY += kitten.speedY;\n        kitten.speedY += gravity;\n\n        if (kitten.positionX > maxX) {\n            kitten.speedX *= -1;\n            kitten.positionX = maxX;\n        } else if (kitten.positionX < minX) {\n            kitten.speedX *= -1;\n            kitten.positionX = minX;\n        }\n        if (kitten.positionY > maxY) {\n            kitten.speedY *= -0.85;\n            kitten.positionY = maxY;\n            kitten.spin = (random() - 0.5) * 0.2\n            if (random() > 0.5) {\n                kitten.speedY -= random() * 6;\n            }\n        } else if (kitten.positionY < minY) {\n            kitten.speedY = 0;\n            kitten.positionY = minY;\n        }\n    }\n}\n\nfunction draw() {\n    canvas.cls();\n    for (var i = 0; i < count; i++) {\n        var kitten = kittens[i];\n        //exture, x, y, w, h, r, tx, ty, sx, sy, u0, v0, u1, v1\n        canvas.img(\n            // Texture\n            kitten.texture,\n            // Position X \n            -kitten.halfWidth,\n            // Position Y\n            0,\n            // Width\n            kitten.width,\n            // Height\n            kitten.height,\n            // Rotation\n            kitten.rotation,\n            // Translation X\n            kitten.positionX, \n            // Translation Y\n            kitten.positionY,\n            // Scale X\n            1, \n            // Scale Y\n            1,\n            // UV0\n            kitten.u0,\n            kitten.v0,\n            // UV1\n            kitten.u1,\n            kitten.v1\n        );\n    }\n    canvas.flush();\n}\n\nfunction mainLoop() {\n    requestAnimationFrame(mainLoop);\n    update();\n    draw();\n}\n\ncanvas.c.onmousedown = function (evt) {\n    add = true;\n    currentFrame = (currentFrame + 1) % frames.length;    \n};\ncanvas.c.onmouseup = function (evt) {\n    add = false;\n};\ncanvas.c.ontouchstart = function (evt) {\n    add = true;\n    currentFrame = (currentFrame + 1) % frames.length;\n};\ncanvas.c.ontouchend = function (evt) {\n    add = false;\n};\nkittenImage.onload = function () {\n    kittenTexture = TCTex(gl, kittenImage, kittenImage.width, kittenImage.height);\n    create();\n};\nkittenImage.src = 'data:image/png;base64,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';"]}